(function(){var F,a,v,A,e,z,f,h,q,l,B,n,g,m,r,p,s,w,y,d,k,t,u,j,o,E,D,C,i,b,x=[].slice,c=[].indexOf||function(I){for(var H=0,G=this.length;H<G;H++){if(H in this&&this[H]===I){return H}}return -1};if(window.Dropbox==null){window.Dropbox={}}if(Dropbox.baseUrl==null){Dropbox.baseUrl="https://www.dropbox.com"}if(Dropbox.blockBaseUrl==null){Dropbox.blockBaseUrl="https://dl.dropbox.com"}Dropbox.addListener=function(I,H,G){if(I.addEventListener){I.addEventListener(H,G,false)}else{I.attachEvent("on"+H,function(J){J.preventDefault=function(){return this.returnValue=false};return G(J)})}};Dropbox.removeListener=function(I,H,G){if(I.removeEventListener){I.removeEventListener(H,G,false)}else{I.detachEvent("on"+H,G)}};A=function(H){var I,G;G=encodeURIComponent(Dropbox.VERSION);I=H.indexOf("?")===-1?"?":"&";return""+H+I+"version="+G};z=function(Q,L){var O,M,K,G,J,P,I,H,N;P=encodeURIComponent(window.location.protocol+"//"+window.location.host);O=encodeURIComponent(Dropbox.appKey);G=encodeURIComponent(Q.linkType||"");I=encodeURIComponent(Q._trigger||"js");J=Boolean(Q.multiselect);M=encodeURIComponent(((N=Q.extensions)!=null?typeof N.join==="function"?N.join(" "):void 0:void 0)||"");K=Boolean(Q.folderselect);L=Boolean(L);H=""+Dropbox.baseUrl+"/chooser?origin="+P+"&app_key="+O+"&link_type="+G;H+="&trigger="+I+"&multiselect="+J+"&extensions="+M+"&folderselect="+K+"&iframe="+L;return A(H)};E=function(I){var J,G,H;G=encodeURIComponent(window.location.protocol+"//"+window.location.host);J=encodeURIComponent(Dropbox.appKey);H=""+Dropbox.baseUrl+"/saver?origin="+G+"&app_key="+J;return A(H)};k=1;p=function(H,J){var L,I,K,G;L=encodeURIComponent(Dropbox.appKey);G=""+Dropbox.baseUrl+"/dropins/job_status?job="+J+"&app_key="+L;G=A(G);K=function(N){var M;if(N.status==="COMPLETE"){if(typeof H.progress==="function"){H.progress(1)}if(typeof H.success==="function"){H.success()}}else{if((M=N.status)==="PENDING"||M==="DOWNLOADING"){if(N.progress!=null){if(typeof H.progress==="function"){H.progress(N.progress/100)}}setTimeout(I,1500)}else{if(N.status==="FAILED"){if(typeof H.error==="function"){H.error(N.error)}}}}};if("withCredentials" in new XMLHttpRequest()){I=function(){var M;M=new XMLHttpRequest();M.onload=function(){return K(JSON.parse(M.responseText))};M.onerror=function(){return typeof H.error==="function"?H.error():void 0};M.open("GET",G,true);return M.send()}}else{if(!Dropbox.disableJSONP){I=function(){var O,N,M;O="DropboxJsonpCallback"+k++;N=false;window[O]=function(P){N=true;return K(P)};M=document.createElement("script");M.src=""+G+"&callback="+O;M.onreadystatechange=function(){var P;if(M.readyState==="loaded"){if(!N){if(typeof H.error==="function"){H.error()}}return(P=M.parentNode)!=null?P.removeChild(M):void 0}};return document.getElementsByTagName("head")[0].appendChild(M)}}else{if((typeof XDomainRequest!=="undefined"&&XDomainRequest!==null)&&"https:"===document.location.protocol){I=function(){var M;M=new XDomainRequest();M.onload=function(){return K(JSON.parse(M.responseText))};M.onerror=function(){return typeof H.error==="function"?H.error():void 0};M.open("get",G);return M.send()}}else{throw new Error("Unable to find suitable means of cross domain communication")}}}if(typeof H.progress==="function"){H.progress(0)}return I()};s=function(M,N,O){var K,J,L,I,H,G;J=JSON.parse(M.data);if((typeof w!=="undefined"&&w!==null)&&O._popup){L=w.contentWindow}else{L=M.source}switch(J.method){case"origin_request":M.source.postMessage(JSON.stringify({method:"origin"}),Dropbox.baseUrl);break;case"ready":if(O.files!=null){if(O._fetch_url_on_save){G=(function(){var S,Q,R,P;R=O.files;P=[];for(S=0,Q=R.length;S<Q;S++){I=R[S];P.push({filename:I.filename})}return P})();H=JSON.stringify({method:"files_with_callback",params:G})}else{H=JSON.stringify({method:"files",params:O.files})}L.postMessage(H,Dropbox.baseUrl)}if(typeof O.ready==="function"){O.ready()}break;case"files_selected":case"files_saved":if(typeof N==="function"){N()}if(typeof O.success==="function"){O.success(J.params)}break;case"progress":if(typeof O.progress==="function"){O.progress(J.params)}break;case"close_dialog":if(typeof N==="function"){N()}if(typeof O.cancel==="function"){O.cancel()}break;case"web_session_error":if(typeof N==="function"){N()}if(typeof O.webSessionFailure==="function"){O.webSessionFailure()}break;case"web_session_unlinked":if(typeof N==="function"){N()}if(typeof O.webSessionUnlinked==="function"){O.webSessionUnlinked()}break;case"resize":if(typeof O.resize==="function"){O.resize(J.params)}break;case"error":if(typeof N==="function"){N()}if(typeof O.error==="function"){O.error(J.params)}break;case"job_id":if(typeof N==="function"){N()}p(O,J.params);break;case"save_callback":K=function(P){J={method:"continue_saving",params:{download_url:P!=null?P.url:void 0}};L.postMessage(JSON.stringify(J),Dropbox.baseUrl)};g(O,J,K);break;case"_debug_log":if(typeof console!=="undefined"&&console!==null){console.log(J.params.msg)}}};g=function(G,J,I){var H;if(G._fetch_url_on_save){H=G.files[0];if(typeof H.url!=="function"){if(typeof G.error==="function"){G.error("Something went wrong, file url callback not provided.")}}H.url(I)}};w=null;h=function(){if(/\bTrident\b/.test(navigator.userAgent)&&(document.body!=null)&&(w==null)){w=document.createElement("iframe");w.setAttribute("id","dropbox_xcomm");w.setAttribute("src",Dropbox.baseUrl+"/static/api/1/xcomm-vfloBi41E.html");w.style.display="none";document.body.appendChild(w)}};Dropbox.createChooserWidget=function(G){var H;H=q(z(G,true));H._handler=function(I){if(I.source===H.contentWindow&&I.origin===Dropbox.baseUrl){s(I,null,G)}};Dropbox.addListener(window,"message",H._handler);return H};Dropbox.cleanupWidget=function(G){if(!G._handler){throw new Error("Invalid widget!")}Dropbox.removeListener(window,"message",G._handler);delete G._handler};o=function(G,H){var J,I;J=(window.screenX||window.screenLeft)+((window.outerWidth||document.documentElement.offsetWidth)-G)/2;I=(window.screenY||window.screenTop)+((window.outerHeight||document.documentElement.offsetHeight)-H)/2;return"width="+G+",height="+H+",left="+J+",top="+I};if(Dropbox._dropinsjs_loaded){if(typeof console!=="undefined"&&console!==null){if(typeof console.warn==="function"){console.warn("dropins.js included more than once")}}return}Dropbox._dropinsjs_loaded=true;if(Dropbox.appKey==null){Dropbox.appKey=(i=document.getElementById("dropboxjs"))!=null?i.getAttribute("data-app-key"):void 0}C=function(G){return G};F="https://www.dropbox.com/developers/dropins/chooser/js";v=["text","documents","images","video","audio"];Dropbox.init=function(G){if(G.translation_function!=null){C=G.translation_function}if(G.appKey!=null){Dropbox.appKey=G.appKey}};q=function(G){var H;H=document.createElement("iframe");H.src=G;H.style.display="block";H.style.backgroundColor="white";H.style.border="none";return H};j=function(M){var I,G,O,H,L,N,K,J;if(typeof M[0]==="string"){H=M.shift();if(typeof M[0]==="string"){G=M.shift()}else{G=r(H)}O=M.shift()||{};O.files=[{url:H,filename:G}]}else{O=M.shift();if(O==null){throw new Error("Missing arguments. See documentation.")}if(!(((K=O.files)!=null?K.length:void 0)||typeof O.files==="function")){throw new Error("Missing files. See documentation.")}J=O.files;for(L=0,N=J.length;L<N;L++){I=J[L];if(typeof I.url==="function"){O._fetch_url_on_save=true}if(!I.filename){I.filename=r(I.url)}}if(O._fetch_url_on_save&&O.files.length>1){throw new Error("File url as callback is only supported for single files.")}}return O};Dropbox.save=function(){var J,L,K,I,M,H,G;J=1<=arguments.length?x.call(arguments,0):[];I=j(J);if(!Dropbox.isBrowserSupported()){alert(C("Your browser does not support the Dropbox Saver"));return}I._popup=true;if(!(typeof I.files==="object"&&I.files.length)){throw new Error("The object passed in must have a 'files' property that contains a list of objects. See documentation.")}G=I.files;for(M=0,H=G.length;M<H;M++){K=G[M];if(I._fetch_url_on_save){if(typeof K.url!=="function"){throw new Error("File urls should be either all functions or all urls, not a mix of both. See documentation.")}}else{if(typeof K.url!=="string"){throw new Error("File urls to download incorrectly configured. Each file must have a url. See documentation.")}}}L=o(352,237);return u(E(I),L,I)};u=function(I,J,H){var L,K,M,G,N;L=function(){if(!G.closed){G.close()}Dropbox.removeListener(window,"message",K);clearInterval(N)};K=function(O){if(O.source===G||O.source===(w!=null?w.contentWindow:void 0)){s(O,L,H)}};M=function(){if(G.closed){L();if(typeof H.cancel==="function"){H.cancel()}}};G=window.open(I,"dropbox",""+J+",resizable=yes,location=yes");if(!G){throw new Error("Failed to open a popup window. Dropbox.choose and Dropbox.save should only be called from within a user-triggered event handler such as a tap or click event.")}G.focus();N=setInterval(M,100);Dropbox.addListener(window,"message",K);return G};D=function(J){var K,I,L,H,G;if(J.success==null){if(typeof console!=="undefined"&&console!==null){if(typeof console.warn==="function"){console.warn("You must provide a success callback to the Chooser to see the files that the user selects")}}}I=function(){if(typeof console!=="undefined"&&console!==null){if(typeof console.warn==="function"){console.warn("The provided list of extensions or file types is not valid. See Chooser documentation: "+F)}}if(typeof console!=="undefined"&&console!==null){if(typeof console.warn==="function"){console.warn("Available file types are: "+v.join(", "))}}return delete J.extensions};if((J.extensions!=null)&&(Array.isArray!=null)){if(Array.isArray(J.extensions)){G=J.extensions;for(L=0,H=G.length;L<H;L++){K=G[L];if(!K.match(/^\.[\.\w$#&+@!()\-'`_~]+$/)&&c.call(v,K)<0){I()}}}else{I()}}return J};e=function(H){var L,K,G,I,M,J;if(!Dropbox.isBrowserSupported()){alert(C("Your browser does not support the Dropbox Chooser"));return}J=640;G=552;if(H.iframe){M=q(z(H,true));M.style.width=J+"px";M.style.height=G+"px";M.style.margin="125px auto 0 auto";M.style.border="1px solid #ACACAC";M.style.boxShadow="rgba(0, 0, 0, .2) 0px 4px 16px";I=document.createElement("div");I.style.position="fixed";I.style.left=I.style.right=I.style.top=I.style.bottom="0";I.style.zIndex="1000";I.style.backgroundColor="rgba(160, 160, 160, 0.2)";I.appendChild(M);document.body.appendChild(I);K=function(N){if(N.source===M.contentWindow){s(N,(function(){document.body.removeChild(I);Dropbox.removeListener(window,"message",K)}),H)}};Dropbox.addListener(window,"message",K)}else{L=o(J,G);u(z(H),L,H)}};Dropbox.choose=function(G){if(G==null){G={}}G=D(G);e(G)};Dropbox.isBrowserSupported=function(){var G;G=d();Dropbox.isBrowserSupported=function(){return G};return G};d=function(){var J,I,H,G;G=[/IEMobile\/(7|8|9|10)\./,/BB10;/,/CriOS/];for(I=0,H=G.length;I<H;I++){J=G[I];if(J.test(navigator.userAgent)){return false}}if(!((typeof JSON!=="undefined"&&JSON!==null)&&(window.postMessage!=null)&&(window.addEventListener!=null))){return false}return true};m=function(G){return G.replace(/\/+$/g,"").split("/").pop()};r=function(H){var G;G=document.createElement("a");G.href=H;return m(G.pathname)};f=function(H,I){var G;if(I!=null){I.innerHTML=""}else{I=document.createElement("a");I.href="#"}I.className+=" dropbox-dropin-btn";if(Dropbox.isBrowserSupported()){I.className+=" dropbox-dropin-default"}else{I.className+=" dropbox-dropin-disabled"}G=document.createElement("span");G.className="dropin-btn-status";I.appendChild(G);H=document.createTextNode(H);I.appendChild(H);return I};Dropbox.createChooseButton=function(G){var H;if(G==null){G={}}G=D(G);H=f(C("Choose from Dropbox"));Dropbox.addListener(H,"click",function(I){I.preventDefault();e({success:function(J){H.className="dropbox-dropin-btn dropbox-dropin-success";if(typeof G.success==="function"){G.success(J)}},cancel:G.cancel,linkType:G.linkType,multiselect:G.multiselect,folderselect:G.folderselect,extensions:G.extensions,iframe:G.iframe,_trigger:"button"})});return H};Dropbox.createSaveButton=function(){var H,I,G;H=1<=arguments.length?x.call(arguments,0):[];G=j(H);I=H.shift();I=f(C("Save to Dropbox"),I);Dropbox.addListener(I,"click",function(J){var K;J.preventDefault();if(!(I.className.indexOf("dropbox-dropin-error")>=0||I.className.indexOf("dropbox-dropin-default")>=0||I.className.indexOf("dropbox-dropin-disabled")>=0)){return}K=(typeof G.files==="function"?G.files():void 0)||G.files;if(!(K!=null?K.length:void 0)){I.className="dropbox-dropin-btn dropbox-dropin-error";if(typeof G.error==="function"){G.error("Missing files")}return}Dropbox.save({files:K,success:function(){I.className="dropbox-dropin-btn dropbox-dropin-success";if(typeof G.success==="function"){G.success()}},progress:function(L){I.className="dropbox-dropin-btn dropbox-dropin-progress";if(typeof G.progress==="function"){G.progress(L)}},cancel:function(){if(typeof G.cancel==="function"){G.cancel()}},error:function(L){I.className="dropbox-dropin-btn dropbox-dropin-error";if(typeof G.error==="function"){G.error(L)}}})});return I};t=function(H,G){return"background: "+H+";\nbackground: -moz-linear-gradient(top, "+H+" 0%, "+G+" 100%);\nbackground: -webkit-linear-gradient(top, "+H+" 0%, "+G+" 100%);\nbackground: linear-gradient(to bottom, "+H+" 0%, "+G+" 100%);\nfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='"+H+"', endColorstr='"+G+"',GradientType=0);"};l=document.createElement("style");l.type="text/css";B='@-webkit-keyframes rotate {\n  from  { -webkit-transform: rotate(0deg); }\n  to   { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes rotate {\n  from  { transform: rotate(0deg); }\n  to   { transform: rotate(360deg); }\n}\n\n.dropbox-dropin-btn, .dropbox-dropin-btn:link, .dropbox-dropin-btn:hover {\n  display: inline-block;\n  height: 14px;\n  font-family: "Lucida Grande", "Segoe UI", "Tahoma", "Helvetica Neue", "Helvetica", sans-serif;\n  font-size: 11px;\n  font-weight: 600;\n  color: #636363;\n  text-decoration: none;\n  padding: 1px 7px 5px 3px;\n  border: 1px solid #ebebeb;\n  border-radius: 2px;\n  border-bottom-color: #d4d4d4;\n  '+(t("#fcfcfc","#f5f5f5"))+"\n}\n\n.dropbox-dropin-default:hover, .dropbox-dropin-error:hover {\n  border-color: #dedede;\n  border-bottom-color: #cacaca;\n  "+(t("#fdfdfd","#f5f5f5"))+"\n}\n\n.dropbox-dropin-default:active, .dropbox-dropin-error:active {\n  border-color: #d1d1d1;\n  box-shadow: inset 0 1px 1px rgba(0,0,0,0.1);\n}\n\n.dropbox-dropin-btn .dropin-btn-status {\n  display: inline-block;\n  width: 15px;\n  height: 14px;\n  vertical-align: bottom;\n  margin: 0 5px 0 2px;\n  background: transparent url('"+Dropbox.baseUrl+"/static/images/widgets/dbx-saver-status.png') no-repeat;\n  position: relative;\n  top: 2px;\n}\n\n.dropbox-dropin-default .dropin-btn-status {\n  background-position: 0px 0px;\n}\n\n.dropbox-dropin-progress .dropin-btn-status {\n  width: 18px;\n  margin: 0 4px 0 0;\n  background: url('"+Dropbox.baseUrl+"/static/images/widgets/dbx-progress.png') no-repeat center center;\n  -webkit-animation-name: rotate;\n  -webkit-animation-duration: 1.7s;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-name: rotate;\n  animation-duration: 1.7s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n}\n\n.dropbox-dropin-success .dropin-btn-status {\n  background-position: -15px 0px;\n}\n\n.dropbox-dropin-disabled {\n  background: #e0e0e0;\n  border: 1px #dadada solid;\n  border-bottom: 1px solid #ccc;\n  box-shadow: none;\n}\n\n.dropbox-dropin-disabled .dropin-btn-status {\n  background-position: -30px 0px;\n}\n\n.dropbox-dropin-error .dropin-btn-status {\n  background-position: -45px 0px;\n}\n\n@media only screen and (-webkit-min-device-pixel-ratio: 1.4) {\n  .dropbox-dropin-btn .dropin-btn-status {\n    background-image: url('"+Dropbox.baseUrl+"/static/images/widgets/dbx-saver-status-2x.png');\n    background-size: 60px 14px;\n    -webkit-background-size: 60px 14px;\n  }\n\n  .dropbox-dropin-progress .dropin-btn-status {\n    background: url('"+Dropbox.baseUrl+"/static/images/widgets/dbx-progress-2x.png') no-repeat center center;\n    background-size: 20px 20px;\n    -webkit-background-size: 20px 20px;\n  }\n}\n\n.dropbox-saver:hover, .dropbox-chooser:hover {\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.dropbox-chooser, .dropbox-dropin-btn {\n  line-height: 11px !important;\n  text-decoration: none !important;\n  box-sizing: content-box !important;\n  -webkit-box-sizing: content-box !important;\n  -moz-box-sizing: content-box !important;\n}\n";if(l.styleSheet){l.styleSheet.cssText=B}else{l.textContent=B}document.getElementsByTagName("head")[0].appendChild(l);setTimeout(h,0);a=function(){if(document.removeEventListener){document.removeEventListener("DOMContentLoaded",a,false)}else{if(document.detachEvent){document.detachEvent("onreadystatechange",a)}}h();y()};if((b=document.readyState)==="interactive"||b==="complete"){setTimeout(a,0)}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",a,false)}else{document.attachEvent("onreadystatechange",a)}}Dropbox.VERSION="1";Dropbox.createWidget=Dropbox.createChooserWidget;Dropbox.cleanupChooserWidget=Dropbox.cleanupWidget;Dropbox.attach=Dropbox.choose;Dropbox.saveURL=function(){var G;if((G=window.console)!=null){if(typeof G.warn==="function"){G.warn("Dropbox.saveURL is deprecated.  Please use Dropbox.save")}}return Dropbox.save(arguments[0],arguments[1],arguments[2])};n=function(J,I,L){var K,H,G;if(L==null){L={}}if(document.createEvent!=null){K=document.createEvent("Event");K.initEvent(I,true,true);for(H in L){G=L[H];K[H]=G}J.dispatchEvent(K)}};y=function(){var I,K,J,H,G,M,L;M=document.getElementsByTagName("input");for(K=0,H=M.length;K<H;K++){I=M[K];if(I.getAttribute("type")==="dropbox-chooser"){(function(O){var N;N=f("Choose from Dropbox");O.style.display="none";Dropbox.addListener(N,"click",function(P){var R,Q;P.preventDefault();Dropbox.choose({success:function(T){var U,S;S=(function(){var X,W,V;V=[];for(X=0,W=T.length;X<W;X++){U=T[X];V.push(U.link)}return V})();O.value=S.join(", ");O.files=T;n(O,"DbxChooserSuccess",{files:T});N.className="dropbox-dropin-btn dropbox-dropin-success"},cancel:function(){n(O,"DbxChooserCancel")},linkType:O.getAttribute("data-link-type")||"preview",multiselect:((R=O.getAttribute("data-multiselect"))==="True"||R==="true"||R==="1")||false,extensions:((Q=O.getAttribute("data-extensions"))!=null?Q.split(/\s+/):void 0)||[],_trigger:"button"})});O.parentNode.insertBefore(N,O)})(I)}}L=document.getElementsByTagName("a");for(J=0,G=L.length;J<G;J++){I=L[J];if(c.call((I.getAttribute("class")||"").split(" "),"dropbox-saver")>=0){(function(N){Dropbox.createSaveButton({files:function(){return[{url:N.getAttribute("data-url")||N.href,filename:N.getAttribute("data-filename")||m(N.pathname)}]},success:function(){n(N,"DbxSaverSuccess")},progress:function(O){n(N,"DbxSaverProgress",{progress:O})},cancel:function(){n(N,"DbxSaverCancel")},error:function(O){n(N,"DbxSaverError",{error:O})}},N)})(I)}}}}).call(this);